Bootstrap: docker
From: python:3.6.6-stretch

%help

    Porechop 0.2.3
    https://github.com/rrwick/Porechop

%labels

    MAINTAINER "Tom Harrop"
    VERSION "Porechop 0.2.3"

%post

    # install dependencies
    apt-get update
    apt-get install -y \
        build-essential

    # install porechop
    wget -O "porechop.tar.gz" \
        --no-check-certificate \
        https://github.com/rrwick/Porechop/archive/v0.2.3.tar.gz
    mkdir porechop
    tar -zxf porechop.tar.gz \
        -C porechop \
        --strip-components 1
    cd porechop || exit 1
    python3 setup.py install
    cd .. || exit 1
    rm -rf porechop porechop.tar.gz

%runscript

    exec /usr/local/bin/porechop "$@"
    